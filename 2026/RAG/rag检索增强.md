# RAG检索增强生成
构建人工智能应用程序来推理私人数据或模型截止日期后引入的数据，需要用模型所需的特定信息来扩充模型的知识。引入适当信息并将其插入模型提示符的过程被称为检索增强生成（RAG）。

RAG应用程序有两个主要组件：

**Indexing索引**: 通常在离线状态从源中摄取数据并对其进行索引的管道。

**检索和生成**: 实际的RAG链，在运行时接受用户查询并从索引中检索相关数据，然后将其传递给模型。

#### 索引

1. Load: 首先需要使用加载器加载数据,加载来自各种数据源和不同类型的文档. 例如文档加载器。
2. Split(拆分): 文本拆分器将大的Documents分解成更小的块,这对于索引数据和将其传递给模型都很有用，因为大块更难搜索，也不适合模型的有限上下文窗口。
3. Store(存储):存储索引和拆分，以便以后可以搜索它们。通常使用矢量存储`VectorStore`和嵌入模型`Embedding`来完成.

#### 检索和生成

1. Retrieve检索器: 给定用户输入，使用Retriever从存储中检索相关拆分过的文本块
2. Generate: ChatModel/LLM使用包含问题和检索到的数据的提示生成答案